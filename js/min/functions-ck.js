function hexToRgb(t){var a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return a?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:"Err: "+a}function setImage(t,a){var e=new FileReader;e.onload=function(a){var e=a.target.result,n="data:"+t.type+";base64,"+btoa(e);return n};var n=e.readAsBinaryString(t);window.console.log(n)}function changeCanvasColor(t){$("canvas.logo").each(function(){for(var a=this.getContext("2d"),e=a.getImageData(0,0,this.width,this.height),n=0;n<e.data.length;n+=4)e.data[n]=hexToRgb(t).r,e.data[n+1]=hexToRgb(t).g,e.data[n+2]=hexToRgb(t).b;a.putImageData(e,0,0)})}function defaultPos(t){if("icon"==t.parent().parent().attr("id")){var a=(t.parent().width()-t.width())/2,e=(t.parent().height()-t.height())/2;t.css({top:e,left:a})}else{var a=(t.parent().width()-t.width())/2,e=(t.parent().height()-t.height())/2-t.height()/2;t.css({top:e,left:a})}saveLogoPos(t)}function saveLogoPos(t){var a,e,n=t.parent().parent();if("icon"==n.attr("id"))a=icon.fw,e=icon.fh;else if("phone"==n.attr("id"))a=phone.fw,e=phone.fh;else{if("tablet"!=n.attr("id"))return;a=tablet.fw,e=tablet.fh}var o=t.position().left*(a/t.parent().width()),i=t.position().top*(e/t.parent().height());$("#"+n.attr("id")+"LogoPosX").val(o),$("#"+n.attr("id")+"LogoPosY").val(i)}function createJSON(){var t={};return $("input.useVal").each(function(){t[$(this).attr("id")]=$(this).val()}),t}